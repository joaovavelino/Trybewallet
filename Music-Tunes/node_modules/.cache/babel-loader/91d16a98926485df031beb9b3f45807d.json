{"ast":null,"code":"var _jsxFileName = \"/home/joey/Programing/Projects/Portf\\xF3lio/Music-Tunes/src/pages/Album.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Header from '../components/Header';\nimport getMusics from '../services/musicsAPI';\nimport MusicCard from '../components/MusicCard';\nimport Carregando from '../components/Carregando';\nimport { getFavoriteSongs } from '../services/favoriteSongsAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Album extends Component {\n  constructor() {\n    super();\n    this.state = {\n      musics: null,\n      loading: true\n    };\n    this.searchMusics = this.searchMusics.bind(this);\n    this.requestFavSongs = this.requestFavSongs.bind(this);\n  }\n  componentDidMount() {\n    this.searchMusics();\n    this.requestFavSongs();\n  }\n  async requestFavSongs() {\n    this.setState({\n      loading: true\n    });\n    await getFavoriteSongs();\n    this.setState({\n      loading: false\n    });\n  }\n  async searchMusics() {\n    const {\n      match: {\n        params: {\n          id\n        }\n      }\n    } = this.props;\n    const answer = await getMusics(id);\n    this.setState({\n      musics: answer,\n      loading: false\n    });\n  }\n  render() {\n    const {\n      musics,\n      loading\n    } = this.state;\n    if (!loading) {\n      const {\n        artistName,\n        collectionName\n      } = musics[0];\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          \"data-testid\": \"artist-name\",\n          children: artistName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          \"data-testid\": \"album-name\",\n          children: `${artistName}: ${collectionName}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), musics && musics.slice(1).map((song, indice) => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(MusicCard, {\n            music: song,\n            allSongs: musics\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 17\n          }, this)\n        }, indice, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 15\n        }, this)), \"))\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(Carregando, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 12\n    }, this);\n  }\n}\nAlbum.propTypes = {\n  location: PropTypes.shape({\n    state: PropTypes.shape({\n      name: PropTypes.string.isRequired,\n      album: PropTypes.string.isRequired\n    })\n  }).isRequired,\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string.isRequired\n    })\n  }).isRequired\n};\nexport default Album;","map":{"version":3,"names":["React","Component","PropTypes","Header","getMusics","MusicCard","Carregando","getFavoriteSongs","jsxDEV","_jsxDEV","Album","constructor","state","musics","loading","searchMusics","bind","requestFavSongs","componentDidMount","setState","match","params","id","props","answer","render","artistName","collectionName","children","fileName","_jsxFileName","lineNumber","columnNumber","slice","map","song","indice","music","allSongs","propTypes","location","shape","name","string","isRequired","album"],"sources":["/home/joey/Programing/Projects/Portf√≥lio/Music-Tunes/src/pages/Album.js"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Header from '../components/Header';\nimport getMusics from '../services/musicsAPI';\nimport MusicCard from '../components/MusicCard';\nimport Carregando from '../components/Carregando';\nimport { getFavoriteSongs } from '../services/favoriteSongsAPI';\n\nclass Album extends Component {\n  constructor() {\n    super();\n    this.state = {\n      musics: null,\n      loading: true,\n    };\n    this.searchMusics = this.searchMusics.bind(this);\n    this.requestFavSongs = this.requestFavSongs.bind(this);\n  }\n\n  componentDidMount() {\n    this.searchMusics();\n    this.requestFavSongs();\n  }\n\n  async requestFavSongs() {\n    this.setState({ loading: true });\n    await getFavoriteSongs();\n    this.setState({ loading: false });\n  }\n\n  async searchMusics() {\n    const { match: { params: { id } } } = this.props;\n    const answer = await getMusics(id);\n    this.setState({ musics: answer, loading: false });\n  }\n\n  render() {\n    const { musics, loading } = this.state;\n    if (!loading) {\n      const { artistName, collectionName } = musics[0];\n      return (\n        <div>\n          <Header />\n          <p data-testid=\"artist-name\">{artistName}</p>\n          <p data-testid=\"album-name\">{`${artistName}: ${collectionName}`}</p>\n          {musics && musics.slice(1)\n            .map((song, indice) => (\n              <div key={ indice }>\n                <MusicCard music={ song } allSongs={ musics } />\n              </div>))}\n          ))\n        </div>\n      );\n    }\n    return <Carregando />;\n  }\n}\n\nAlbum.propTypes = {\n  location: PropTypes.shape({\n    state: PropTypes.shape({\n      name: PropTypes.string.isRequired,\n      album: PropTypes.string.isRequired,\n    }),\n  }).isRequired,\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string.isRequired,\n    }),\n  }).isRequired,\n};\n\nexport default Album;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}