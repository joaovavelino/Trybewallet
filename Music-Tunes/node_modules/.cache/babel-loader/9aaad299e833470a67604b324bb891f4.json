{"ast":null,"code":"var _jsxFileName = \"/home/joey/Programing/Projects/Portf\\xF3lio/Music-Tunes/src/components/MusicCard.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { addSong } from '../services/favoriteSongsAPI';\nimport Carregando from './Carregando';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass MusicCard extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: false,\n      check: false\n    };\n    this.saveFavSong = this.saveFavSong.bind(this);\n    this.verifyLocalStorage = this.verifyLocalStorage.bind(this);\n  }\n  componentDidMount() {\n    this.verifyLocalStorage();\n  }\n  async saveFavSong(_ref) {\n    let {\n      target\n    } = _ref;\n    this.setState({\n      loading: true\n    });\n    const {\n      allSongs\n    } = this.props;\n    const objFavSong = allSongs.slice(1).find(sound => sound.trackId === Number(target.name));\n    await addSong(objFavSong);\n    this.setState({\n      loading: false,\n      check: true\n    });\n  }\n  verifyLocalStorage() {\n    const {\n      music: {\n        trackId\n      }\n    } = this.props;\n    const local = JSON.parse(localStorage.getItem('favorite_songs'));\n    const checkLocal = local.some(music => music.trackId === trackId);\n    if (checkLocal) {\n      this.setState({\n        check: true\n      });\n    }\n  }\n  render() {\n    const {\n      music: {\n        trackName,\n        previewUrl,\n        trackId\n      }\n    } = this.props;\n    const {\n      loading,\n      check\n    } = this.state;\n    if (loading) return /*#__PURE__*/_jsxDEV(Carregando, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 25\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: trackName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n        \"data-testid\": \"audio-component\",\n        src: previewUrl,\n        controls: true,\n        children: [/*#__PURE__*/_jsxDEV(\"track\", {\n          kind: \"captions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), \"O seu navegador n\\xE3o suporta o elemento\", /*#__PURE__*/_jsxDEV(\"code\", {\n          children: \"audio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"inputFav\",\n        children: [\"Favorita\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          checked: check,\n          id: \"inpuFav\",\n          \"data-testid\": `checkbox-music-${trackId}`,\n          onChange: this.saveFavSong,\n          name: trackId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this);\n  }\n}\nMusicCard.propTypes = {\n  music: PropTypes.shape({\n    trackName: PropTypes.string.isRequired,\n    previewUrl: PropTypes.string.isRequired,\n    trackId: PropTypes.string.isRequired\n  }).isRequired,\n  allSongs: PropTypes.arrayOf(PropTypes.object).isRequired\n};\nexport default MusicCard;","map":{"version":3,"names":["React","Component","PropTypes","addSong","Carregando","jsxDEV","_jsxDEV","MusicCard","constructor","state","loading","check","saveFavSong","bind","verifyLocalStorage","componentDidMount","_ref","target","setState","allSongs","props","objFavSong","slice","find","sound","trackId","Number","name","music","local","JSON","parse","localStorage","getItem","checkLocal","some","render","trackName","previewUrl","fileName","_jsxFileName","lineNumber","columnNumber","children","src","controls","kind","htmlFor","type","checked","id","onChange","propTypes","shape","string","isRequired","arrayOf","object"],"sources":["/home/joey/Programing/Projects/Portfólio/Music-Tunes/src/components/MusicCard.js"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { addSong } from '../services/favoriteSongsAPI';\nimport Carregando from './Carregando';\n\nclass MusicCard extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: false,\n      check: false,\n    };\n    this.saveFavSong = this.saveFavSong.bind(this);\n    this.verifyLocalStorage = this.verifyLocalStorage.bind(this);\n  }\n\n  componentDidMount() {\n    this.verifyLocalStorage();\n  }\n\n  async saveFavSong({ target }) {\n    this.setState({ loading: true });\n    const { allSongs } = this.props;\n    const objFavSong = allSongs\n      .slice(1).find((sound) => sound.trackId === Number(target.name));\n    await addSong(objFavSong);\n    this.setState({ loading: false, check: true });\n  }\n\n  verifyLocalStorage() {\n    const { music: { trackId } } = this.props;\n    const local = JSON.parse(localStorage.getItem('favorite_songs'));\n    const checkLocal = local.some((music) => music.trackId === trackId);\n    if (checkLocal) {\n      this.setState({ check: true });\n    }\n  }\n\n  render() {\n    const { music: { trackName, previewUrl, trackId } } = this.props;\n    const { loading, check } = this.state;\n    if (loading) return <Carregando />;\n    return (\n      <div>\n        <p>{trackName}</p>\n        <audio data-testid=\"audio-component\" src={ previewUrl } controls>\n          <track kind=\"captions\" />\n          O seu navegador não suporta o elemento\n          <code>audio</code>\n        </audio>\n        <label htmlFor=\"inputFav\">\n          Favorita\n          <input\n            type=\"checkbox\"\n            checked={ check }\n            id=\"inpuFav\"\n            data-testid={ `checkbox-music-${trackId}` }\n            onChange={ this.saveFavSong }\n            name={ trackId }\n          />\n        </label>\n      </div>\n    );\n  }\n}\n\nMusicCard.propTypes = {\n  music: PropTypes.shape({\n    trackName: PropTypes.string.isRequired,\n    previewUrl: PropTypes.string.isRequired,\n    trackId: PropTypes.string.isRequired,\n  }).isRequired,\n  allSongs: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default MusicCard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}