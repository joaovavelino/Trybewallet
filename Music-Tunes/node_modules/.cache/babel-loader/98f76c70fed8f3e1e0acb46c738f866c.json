{"ast":null,"code":"var _jsxFileName = \"/home/joey/Programing/Projects/Portf\\xF3lio/Music-Tunes/src/pages/Login.js\";\nimport React, { Component } from 'react';\nimport CarregandoLogin from '../components/CarregandoLogin';\nimport { createUser } from '../services/userAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Login extends Component {\n  constructor() {\n    super();\n    this.state = {\n      inputText: '',\n      buttonDisable: true,\n      redirect: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.changeButton = this.changeButton.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.verifyLocalStorage = this.verifyLocalStorage.bind(this);\n  }\n  handleChange(_ref) {\n    let {\n      target\n    } = _ref;\n    this.setState({\n      inputText: target.value\n    }, this.changeButton);\n  }\n  handleClick() {\n    const {\n      inputText\n    } = this.state;\n    const user = {\n      name: inputText\n    };\n    this.setState({\n      redirect: true\n    });\n    createUser(user);\n  }\n  changeButton() {\n    const {\n      inputText\n    } = this.state;\n    const minTextLength = 3;\n    let answer = true;\n    if (inputText.length >= minTextLength) {\n      answer = false;\n    }\n    this.setState({\n      buttonDisable: answer\n    });\n  }\n  verifyLocalStorage() {\n    const local = localStorage.getItem('user');\n    if (local) {\n      this.setState({\n        redirect: true\n      });\n    }\n  }\n  render() {\n    const {\n      buttonDisable,\n      inputText,\n      redirect\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"page-login\",\n      children: redirect ? /*#__PURE__*/_jsxDEV(CarregandoLogin, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"login-name-input\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            \"data-testid\": \"login-name-input\",\n            placeholder: \"Digite seu Login\",\n            value: inputText,\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: buttonDisable,\n            type: \"submit\",\n            \"data-testid\": \"login-submit-button\",\n            onClick: this.handleClick,\n            children: \"Entrar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default Login;","map":{"version":3,"names":["React","Component","CarregandoLogin","createUser","jsxDEV","_jsxDEV","Login","constructor","state","inputText","buttonDisable","redirect","handleChange","bind","changeButton","handleClick","verifyLocalStorage","_ref","target","setState","value","user","name","minTextLength","answer","length","local","localStorage","getItem","render","children","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","type","placeholder","onChange","disabled","onClick"],"sources":["/home/joey/Programing/Projects/PortfÃ³lio/Music-Tunes/src/pages/Login.js"],"sourcesContent":["import React, { Component } from 'react';\nimport CarregandoLogin from '../components/CarregandoLogin';\nimport { createUser } from '../services/userAPI';\n\nclass Login extends Component {\n  constructor() {\n    super();\n    this.state = {\n      inputText: '',\n      buttonDisable: true,\n      redirect: false,\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.changeButton = this.changeButton.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.verifyLocalStorage = this.verifyLocalStorage.bind(this);\n  }\n\n  handleChange({ target }) {\n    this.setState(({ inputText: target.value }), this.changeButton);\n  }\n\n  handleClick() {\n    const { inputText } = this.state;\n    const user = ({ name: inputText });\n    this.setState(({ redirect: true }));\n    createUser(user);\n  }\n\n  changeButton() {\n    const { inputText } = this.state;\n    const minTextLength = 3;\n    let answer = true;\n    if (inputText.length >= minTextLength) {\n      answer = false;\n    }\n    this.setState(({ buttonDisable: answer }));\n  }\n\n  verifyLocalStorage() {\n    const local = localStorage.getItem('user');\n    if (local) {\n      this.setState({ redirect: true });\n    }\n  }\n\n  render() {\n    const { buttonDisable, inputText, redirect } = this.state;\n    return (\n      <div data-testid=\"page-login\">\n        {redirect ? <CarregandoLogin />\n          : (\n            <div>\n              <h1>login</h1>\n              <label htmlFor=\"login-name-input\">\n                <input\n                  type=\"text\"\n                  data-testid=\"login-name-input\"\n                  placeholder=\"Digite seu Login\"\n                  value={ inputText }\n                  onChange={ this.handleChange }\n                />\n                <button\n                  disabled={ buttonDisable }\n                  type=\"submit\"\n                  data-testid=\"login-submit-button\"\n                  onClick={ this.handleClick }\n                >\n                  Entrar\n                </button>\n              </label>\n            </div>\n          )}\n      </div>\n    );\n  }\n}\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}